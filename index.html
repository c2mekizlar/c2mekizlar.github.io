<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SC Dosyası Açıcı</title>
	<script type="module">
		import ultrapowascTools from 'https://cdn.jsdelivr.net/npm/@ultrapowa/sc-tools@2.0.4/+esm';

		document.addEventListener('DOMContentLoaded', () => {
			const scTools = new ultrapowascTools();
			const fileInput = document.getElementById('fileInput');
			const output = document.getElementById('output');

			fileInput.addEventListener('change', async (event) => {
				const file = event.target.files[0];
				if (!file) {
					output.innerHTML = '<p style="color:red;">Bir dosya seçilmedi!</p>';
					return;
				}

				try {
					// SC dosyasını binary olarak oku
					const scData = await file.arrayBuffer();

					// SC dosyasını aç
					const project = scTools.openSC(scData);

					// İçerikleri görüntüle
					output.innerHTML = `
					<h3>SC Dosyası Başarıyla Açıldı!</h3>
					<h4>Dokular:</h4>
					<ul>${project.textures.map(t => `<li>${t.name}</li>`).join('')}</ul>
					<h4>Yapılandırmalar:</h4>
					<pre>${JSON.stringify(project.configs, null, 2)}</pre>
					`;
				} catch (error) {
					console.error(error);
					output.innerHTML = '<p style="color:red;">SC dosyasını açarken bir hata oluştu.</p>';
				}
			});
		});
	</script>
</head>
<body>
	<h1>SC Dosyası Görüntüleyici</h1>
	<p>
		Bir SC dosyası yükleyin ve içeriğini burada görün.
	</p>
	<input type="file" id="fileInput" accept=".sc">
	<div id="output" style="margin-top: 20px; font-family: monospace; white-space: pre-wrap;"></div>
</body>
</html>